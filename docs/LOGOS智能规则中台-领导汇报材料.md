# LOGOS 智能规则中台
## 基于本体建模与大模型的业务规则进化方案

---

**汇报日期**：2026年1月30日  
**项目组**：智能规则中台研发团队

---

## 一、项目背景与痛点

### 1.1 业务现状

中国电信业务系统中存在 **数百个业务规则插件**，分散在各个系统模块中。以"灵犀专线"为例，现有规则代码如下：

```java
// 现状：规则硬编码在 Java 代码中
if ("80000122".equals(accessProdInst.get("PROD_ID"))) {
    if ("3".equals(accessProdInst.get("COL1"))) {
        if (!"2831".equals(soId)) {
            Errors.error("灵犀专线业务类型为融合光网时，只允许做拆机操作");
        }
    }
}
```

### 1.2 核心痛点

| 痛点 | 影响 |
|------|------|
| **规则散落** | 数百个插件分散在代码中，难以统一管理 |
| **改动成本高** | 每次规则变更需要开发、测试、发版，周期长达2-4周 |
| **知识流失** | 规则逻辑隐藏在代码中，业务专家无法直接理解 |
| **响应慢** | 无法快速响应市场变化和监管要求 |

---

## 二、解决方案：LOGOS 智能规则中台

### 2.1 方案定位

**LOGOS（Linked Ontology for Governance & Operation System）** 是一套 **"可解释、可追溯、可进化"** 的智能规则管理平台。

### 2.2 核心理念

```
┌─────────────────────────────────────────────────────────────────┐
│                     传统模式 vs LOGOS 模式                       │
├─────────────────────────────────────────────────────────────────┤
│                                                                 │
│   传统：业务需求 → 开发编码 → 测试 → 发版（2-4周）               │
│                                                                 │
│   LOGOS：业务需求 → 自然语言描述 → AI生成规则 → 验证发布（分钟级）│
│                                                                 │
└─────────────────────────────────────────────────────────────────┘
```

### 2.3 技术架构

```
┌─────────────────────────────────────────────────────────────────┐
│                        LOGOS 技术架构                            │
├─────────────────────────────────────────────────────────────────┤
│                                                                 │
│  ┌─────────────┐    ┌─────────────┐    ┌─────────────┐         │
│  │   前端层    │    │   后端层    │    │   数据层    │         │
│  │  React+Vite │◄──►│ Spring Boot │◄──►│   Neo4j    │         │
│  └─────────────┘    └──────┬──────┘    └─────────────┘         │
│                            │                                    │
│                     ┌──────▼──────┐                            │
│                     │   LLM 层    │                            │
│                     │  (GPT-4o)   │                            │
│                     └─────────────┘                            │
│                                                                 │
└─────────────────────────────────────────────────────────────────┘
```

---

## 三、核心功能与创新点

### 3.1 本体建模（知识图谱）

将业务规则的 **语义概念** 与 **物理实现** 分离，建立标准化的知识图谱：

```
┌─────────────────────────────────────────────────────────────────┐
│                     三维本体架构                                 │
├─────────────────────────────────────────────────────────────────┤
│                                                                 │
│   ┌───────────────┐                                            │
│   │  RuleContext  │  规则上下文（输入参数）                      │
│   │  规则上下文   │  ├─ operType: 操作类型                      │
│   └───────┬───────┘  └─ soId: 服务提供ID                       │
│           │                                                     │
│           ▼                                                     │
│   ┌───────────────┐                                            │
│   │   ProdInst    │  产品实例（检查目标）                       │
│   │   产品实例    │  ├─ businessTypeCode → COL1                │
│   └───────┬───────┘  └─ prodId → PROD_ID                       │
│           │                                                     │
│           ▼                                                     │
│   ┌───────────────┐                                            │
│   │BusinessConstr │  业务约束（规则条件）                       │
│   │   业务约束    │  └─ 灵犀融合光网约束                        │
│   └───────────────┘                                            │
│                                                                 │
└─────────────────────────────────────────────────────────────────┘
```

**创新价值**：
- 业务人员看到的是"业务类型"，系统自动映射到"COL1"字段
- 规则变更时只需修改映射关系，无需改代码

### 3.2 NL2SpEL：自然语言转规则

**输入**（业务人员描述）：
> "灵犀融合光网业务除了拆机都拦截"

**输出**（系统生成）：
```java
#shouldSkip(#operType, "1100", "1200") ? true : 
  (#businessTypeCode == "3" ? #soId == "2831" : true)
```

**实现原理**：
1. **RAG 增强**：从 Neo4j 检索相关本体（COL1、PROD_ID 等）
2. **LLM 生成**：将本体上下文 + 自然语言输入 LLM
3. **语法验证**：SpEL 引擎校验表达式合法性
4. **溯源记录**：记录推理路径（trace）

### 3.3 可解释性追溯（Trace）

每次规则生成都会记录完整的推理路径：

```
业务需求(融合光网) → 命中实体(ProdInst:80000122) → 匹配属性(COL1) → 常量值(3)
```

**价值**：
- 审计合规：满足监管对规则可解释性的要求
- 问题定位：规则出错时可快速定位原因
- 知识传承：新人可通过 trace 理解规则逻辑

### 3.4 仿真沙箱验证

规则发布前可在沙箱环境进行测试：

| 测试场景 | Mock 数据 | 预期结果 |
|----------|-----------|----------|
| 融合光网+拆机 | `{businessTypeCode: "3", soId: "2831"}` | ✅ 通过 |
| 融合光网+新装 | `{businessTypeCode: "3", soId: "1000"}` | ❌ 拦截 |
| 普通业务 | `{businessTypeCode: "1", soId: "1000"}` | ✅ 通过 |

---

## 四、对齐电信规范

本方案严格对齐《中国电信业务规则IT支撑技术规范V2.0》：

| 规范要求 | LOGOS 实现 |
|----------|------------|
| 4.3 规则统一视图 | 前端 RuleView 组件，树形导航 |
| 4.4 规则热加载 | PATCH /api/logos/v1/rule/BusiRule 接口 |
| 高峰响应 ≤3s | SpEL 表达式预编译缓存 |
| 可审计追溯 | trace 字段记录完整推理路径 |

---

## 五、系统演示

### 5.1 系统入口

| 模块 | 地址 | 说明 |
|------|------|------|
| 前端应用 | http://localhost:3000 | NL2SpEL 工作台 |
| 后端 API | http://localhost:8080/api/logos/v1 | RESTful 接口 |
| Swagger | http://localhost:8080/api/logos/v1/swagger-ui.html | API 文档 |
| Neo4j | http://localhost:7474 | 知识图谱浏览 |

### 5.2 核心接口

```
POST /rule/generate     # 自然语言 → SpEL
POST /rule/validate     # 仿真验证
PATCH /rule/BusiRule    # 规则热发布
POST /rule/execute      # 规则执行
```

---

## 六、项目价值

### 6.1 量化收益

| 指标 | 传统模式 | LOGOS 模式 | 提升 |
|------|----------|------------|------|
| 规则变更周期 | 2-4 周 | 分钟级 | **99%↓** |
| 开发介入 | 必须 | 可选 | **降低依赖** |
| 规则可理解性 | 仅开发 | 全员 | **知识共享** |
| 问题定位时间 | 小时级 | 秒级 | **95%↓** |

### 6.2 战略价值

1. **业务敏捷**：快速响应市场和监管变化
2. **知识资产化**：规则从代码变为可管理的知识资产
3. **AI 赋能**：大模型能力在运营支撑领域的落地实践
4. **合规保障**：满足审计和监管对可解释性的要求

---

## 七、下一步计划

### 第一阶段（已完成）✅
- [x] 本体建模底座
- [x] NL2SpEL 核心能力
- [x] 仿真验证沙箱
- [x] 规则热发布接口

### 第二阶段（规划中）
- [ ] 批量导入现有 Java 插件规则
- [ ] 规则版本管理与回滚
- [ ] 可视化规则编排
- [ ] 与现有 CRM 系统对接

### 第三阶段（远期）
- [ ] 规则智能推荐
- [ ] 异常规则自动检测
- [ ] 多租户支持

---

## 八、总结

**LOGOS 智能规则中台** 通过 **本体建模 + 大模型** 的技术路线，实现了：

> 🎯 **让业务人员用自然语言描述需求，系统自动生成可执行规则**

这是 **AI 技术在电信运营支撑领域的创新实践**，将为中国电信的数字化转型提供有力支撑。

---

**项目组联系方式**：logos-team@example.com

